#!/usr/bin/env bash

# https://github.com/sainnhe/tmux-fzf/blob/master/scripts/.envs

current_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# $TMUX_FZF_PREVIEW_OPTIONS
fzf_preview_window_follow="'right,border-left,<60(bottom,50%,border-top)'"
TMUX_FZF_PREVIEW="${TMUX_FZF_PREVIEW:-1}"
if [ "$TMUX_FZF_PREVIEW" == 1 ]; then
  TMUX_FZF_PREVIEW_OPTIONS="--preview='$current_dir/.preview {}' --preview-window=$fzf_preview_window_follow"
else
  TMUX_FZF_PREVIEW_OPTIONS="--preview='$current_dir/.preview {}' --preview-window=${fzf_preview_window_follow}:hidden"
fi

# $TMUX_FZF_BIN
TMUX_FZF_BIN="fzf"

# $TMUX_FZF_OPTIONS
[ -z "$TMUX_FZF_OPTIONS" ] && TMUX_FZF_OPTIONS="--no-hscroll --tmux=center,95%,90% -m"

# Unset temporary variables and functions.
unset \
  current_dir \
  fzf_preview_window_follow
