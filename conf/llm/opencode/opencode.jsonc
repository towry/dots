{
    "$schema": "https://opencode.ai/config.json",
    // "model": "zhipuai-coding-plan/glm-4.6",
    "small_model": "github-copilot/grok-code-fast-1",
    "autoupdate": false,
    "username": "TOWRY â˜•",
    // "share": "disabled",
    "disabled_providers": [
        "openai",
        "gemini",
        "openrouter",
        "opencode",
        "moonshotai",
        "deepseek",
        "perplexity"
    ],
    "instructions": [],
    "keybinds": {
        "session_child_cycle": "shift+right",
        "session_child_cycle_reverse": "shift+left"
    },
    "agent": {
        "kiro": {
            "model": "github-copilot/claude-sonnet-4.5",
            "prompt": "{file:./roles/kiro.md}",
            "description": "Kiro spec workflow",
            "mode": "primary",
            "tools": {
                "write": false,
                "edit": true,
                "bash": false,
                "grep": true,
                "read": true,
                "list": true,
                "glob": true,
                "todowrite": true,
                "todoread": true,
                "webfetch": false,
                "brightdata*": true,
                "grep-code*": true
            },
            "permission": {
                "edit": "allow",
                "bash": "deny",
                "webfetch": "deny"
                // "bash": {
                //     "*": "ask",
                //     "ls": "allow",
                //     "git show": "allow",
                //     "git diff": "allow",
                //     "git log": "allow",
                //     "rg": "allow",
                //     "ast-grep": "allow",
                //     "fd": "allow",
                //     "cd": "allow",
                //     "pwd": "allow"
                // }
            }
        },
        "build": {
            "model": "zhipuai-coding-plan/glm-4.6",
            "tools": {
                "write": true,
                "edit": true,
                "bash": true,
                "grep": true,
                "read": true,
                "list": true,
                "glob": true,
                "todowrite": true,
                "todoread": true,
                "webfetch": false,
                "brightdata*": true,
                "grep-code*": true,
                "github*": true
            }
        },
        "plan": {
            "mode": "primary",
            "model": "github-copilot/claude-sonnet-4.5",
            "prompt": "{file:./roles/oracle.md}",
            "tools": {
                "write": false,
                "edit": false,
                "bash": true,
                "grep": true,
                "read": true,
                "list": true,
                "glob": true,
                "todowrite": true,
                "todoread": true,
                "webfetch": false,
                "brightdata*": true,
                "github*": true
            },
            "permission": {
                "bash": "deny",
                "edit": "deny"
            }
        }
    },
    "provider": {
        /// if use tab change the MODE, but model not changing,
        /// that means the model is not recognized, you must list it in
        /// the provider.models.
        /// openrouter is builtin provider in opencode, but not all models
        /// is loaded.
        "moonshotai-cn": {
            "npm": "@ai-sdk/openai-compatible",
            "name": "Moonshot-AI CN",
            "options": {
                "apiKey": "{env:MOONSHOT_API_KEY}",
                "baseURL": "https://api.moonshot.cn/v1"
            },
            "models": {
                "kimi-k2": {
                    "id": "kimi-k2-0905-preview",
                    "name": "Kimi K2"
                }
            }
        },
        "openrouter": {
            "npm": "@openrouter/ai-sdk-provider",
            "name": "OpenRouter",
            "options": {
                "apiKey": "{env:OPENROUTER_API_KEY}"
            },
            "models": {
                "gpt-5-codex-low": {
                    "id": "openai/gpt-5-codex",
                    "name": "GPT-5 Codex Low",
                    "options": {
                        "reasoningEffort": "low",
                        "textVerbosity": "low",
                        "reasoningSummary": "auto"
                    }
                },
                "gpt-5-codex-medium": {
                    "id": "openai/gpt-5-codex",
                    "name": "GPT-5 Codex Medium",
                    "options": {
                        "reasoningEffort": "medium",
                        "textVerbosity": "low",
                        "reasoningSummary": "auto"
                    }
                },
                "gpt-5-medium": {
                    "id": "openai/gpt-5",
                    "name": "GPT-5 Medium",
                    "options": {
                        "reasoningEffort": "medium",
                        "textVerbosity": "low",
                        "reasoningSummary": "auto"
                    }
                },
                "openai/gpt-5": {
                    "name": "GPT-5",
                    "options": {
                        "reasoningEffort": "medium",
                        "textVerbosity": "low",
                        "reasoningSummary": "auto"
                    }
                },
                "x-ai/grok-4-fast": {
                    "name": "Grok 4 Fast",
                    "tool_call": true,
                    "attachment": true
                },
                "x-ai/grok-code-fast-1": {
                    "name": "Grok Code Fast 1",
                    "tool_call": true,
                    "attachment": true
                },
                "z-ai/glm-4.6": {
                    "name": "GLM 4.6",
                    "tool_call": true,
                    "attachment": true
                }
            }
        }
    },
    "permission": {
        "bash": {
            "git commit": "ask",
            "git push": "ask",
            "git add": "ask",
            "rg": "allow",
            "ast-grep": "allow",
            "fd": "allow",
            "ls": "allow",
            "cd": "allow"
        },
        "edit": "allow",
        "webfetch": "deny"
    },
    "tools": {
        "webfetch": false,
        "playwright*": false,
        "github*": false,
        "context7*": false,
        "grep-code*": false,
        "mermaid*": true,
        "brightdata*": true,
        "memory*": true
    },
    // global mcp settings
    // disabled in global can enabled for a specific agent with tools setting
    // like `context7*: true`
    "mcp": {
        "context7": {
            "type": "local",
            "command": [
                "bunx",
                "@upstash/context7-mcp"
            ],
            "enabled": true,
            "environment": {}
        },
        "playwright": {
            "type": "local",
            "command": [
                "bunx",
                "@playwright/mcp@latest",
                "--executable-path",
                "google-chrome-stable",
                "--extension",
                "--output-dir=./.playwright"
            ],
            "enabled": true
        },
        "github": {
            "type": "local",
            "command": [
                "github-mcp-server",
                "stdio",
                "--dynamic-toolsets"
            ],
            "enabled": true,
            "environment": {
                "GITHUB_PERSONAL_ACCESS_TOKEN": "{env:GITHUB_PERSONAL_ACCESS_TOKEN}"
            }
        },
        "mermaid": {
            "type": "local",
            "command": [
                "bunx",
                "mcp-mermaid"
            ],
            "enabled": true
        },
        "memory": {
          "type": "local",
          "command": [
            "bunx",
            "@modelcontextprotocol/server-memory"
          ]
        },
        "brightdata": {
            "type": "local",
            "command": [
                "bunx",
                "@brightdata/mcp"
            ],
            "enabled": true,
            "environment": {
                "API_TOKEN": "{env:BRIGHTDATA_API_KEY}"
            }
        }
    },
    "lsp": {
        "typescript": {
            "disabled": true
        },
        "deno": {
            "disabled": true
        },
        "eslint": {
            "disabled": true
        },
        "gopls": {
            "disabled": true
        },
        "ruby-lsp": {
            "disabled": true
        },
        "pyright": {
            "disabled": true
        },
        "elixir-ls": {
            "disabled": true
        },
        "zls": {
            "disabled": true
        },
        "csharp": {
            "disabled": true
        },
        "vue": {
            "disabled": true
        },
        "rust": {
            "disabled": true
        },
        "clangd": {
            "disabled": true
        },
        "svelte": {
            "disabled": true
        },
        "astro": {
            "disabled": true
        },
        "jdtls": {
            "disabled": true
        },
        "lua-ls": {
            "disabled": true
        }
    }
}
